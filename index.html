<!doctype html>
<html lang="pl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="theme-color" content="#0b1220" />
  <title>üíò Walentynki</title>
  <style>
    :root{
      --bg0:#070a12;
      --bg1:#0b1220;
      --card: rgba(255,255,255,.08);
      --card2: rgba(255,255,255,.12);
      --stroke: rgba(255,255,255,.12);
      --text: rgba(255,255,255,.92);
      --muted: rgba(255,255,255,.72);
      --hot:#ff4d8d;
      --hot2:#ff2e6d;
      --cool:#38bdf8;
      --cool2:#8b5cf6;
      --yes:#22c55e;
      --no:#f97316;
      --shadow: 0 30px 80px rgba(0,0,0,.55);
      --radius: 22px;
    }

    *{ box-sizing:border-box; }
    html,body{ height:100%; }
    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Inter, Arial, "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji";
      color: var(--text);
      overflow:hidden;
      background:
        radial-gradient(1100px 600px at 10% 10%, rgba(56,189,248,.22), transparent 60%),
        radial-gradient(1000px 600px at 90% 20%, rgba(139,92,246,.22), transparent 58%),
        radial-gradient(900px 700px at 50% 90%, rgba(255,77,141,.18), transparent 60%),
        linear-gradient(180deg, var(--bg0), var(--bg1));
    }

    /* subtle noise */
    body::before{
      content:"";
      position:fixed; inset:0;
      background-image:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="220" height="220"><filter id="n"><feTurbulence type="fractalNoise" baseFrequency=".9" numOctaves="3" stitchTiles="stitch"/></filter><rect width="220" height="220" filter="url(%23n)" opacity=".22"/></svg>');
      mix-blend-mode: overlay;
      opacity:.18;
      pointer-events:none;
    }

    /* floating bokeh */
    .orb{ position:absolute; border-radius:999px; filter: blur(1px); opacity:.6; }
    .orb.one{ width:220px; height:220px; left:-60px; top:22vh; background: rgba(56,189,248,.18); animation: float1 12s ease-in-out infinite; }
    .orb.two{ width:260px; height:260px; right:-90px; top:14vh; background: rgba(139,92,246,.16); animation: float2 14s ease-in-out infinite; }
    .orb.three{ width:200px; height:200px; left:55vw; bottom:-70px; background: rgba(255,77,141,.14); animation: float3 16s ease-in-out infinite; }
    @keyframes float1{ 0%,100%{ transform: translate(0,0);} 50%{ transform: translate(30px,-25px);} }
    @keyframes float2{ 0%,100%{ transform: translate(0,0);} 50%{ transform: translate(-25px,30px);} }
    @keyframes float3{ 0%,100%{ transform: translate(0,0);} 50%{ transform: translate(10px,-30px);} }

    /* stage */
    .stage{ position:relative; height:100%; width:100%; display:grid; place-items:center; padding:24px; }

    .card{
      width:min(720px, 92vw);
      background: linear-gradient(180deg, rgba(255,255,255,.10), rgba(255,255,255,.06));
      border: 1px solid var(--stroke);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      backdrop-filter: blur(16px);
      padding: 22px;
      position:relative;
      overflow:hidden;
    }

    .topbar{
      display:flex; align-items:center; justify-content:space-between;
      gap:12px; padding:6px 4px 12px;
    }

    .badge{
      display:inline-flex; align-items:center; gap:10px;
      padding:10px 12px;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.06);
    }

    .badge .dot{ width:10px; height:10px; border-radius:999px; background: linear-gradient(135deg, var(--cool), var(--cool2)); box-shadow: 0 0 0 4px rgba(56,189,248,.12); }

    .title{
      margin: 12px 4px 6px;
      font-size: clamp(26px, 4vw, 42px);
      line-height: 1.05;
      letter-spacing: -0.02em;
    }

    .subtitle{ margin:0 4px 14px; color: var(--muted); font-size: 15px; }

    .grid{
      display:grid;
      grid-template-columns: 1.2fr .8fr;
      gap: 14px;
    }

    @media (max-width: 780px){
      .grid{ grid-template-columns: 1fr; }
    }

    .panel{
      border: 1px solid rgba(255,255,255,.10);
      background: rgba(0,0,0,.18);
      border-radius: 18px;
      padding: 16px;
      position:relative;
      overflow:hidden;
    }

    .panel h3{ margin:0 0 6px; font-size: 14px; color: rgba(255,255,255,.75); font-weight:600; letter-spacing:.02em; }
    .panel p{ margin:0; color: rgba(255,255,255,.85); }

    .cta{
      display:flex; align-items:center; gap:10px; flex-wrap:wrap;
      margin-top: 14px;
    }

    .btn{
      appearance:none; border:none; cursor:pointer;
      padding: 12px 16px;
      border-radius: 14px;
      font-weight: 700;
      letter-spacing: .01em;
      color: rgba(255,255,255,.92);
      background: rgba(255,255,255,.06);
      border: 1px solid rgba(255,255,255,.12);
      transition: transform .18s ease, background .18s ease, border-color .18s ease;
      user-select:none;
    }
    .btn:active{ transform: translateY(1px) scale(.99); }

    .btn.primary{
      background: linear-gradient(135deg, rgba(34,197,94,.95), rgba(16,185,129,.92));
      border-color: rgba(34,197,94,.38);
      box-shadow: 0 16px 50px rgba(34,197,94,.20);
    }
    .btn.primary:hover{ transform: translateY(-1px) scale(1.01); }

    .btn.ghost{
      background: rgba(255,255,255,.05);
    }

    .btn.small{ padding:9px 12px; border-radius: 12px; font-weight:650; }

    .hint{
      font-size: 13px;
      color: rgba(255,255,255,.65);
      margin-top: 10px;
    }

    /* Decorative SVG corner */
    .stitch-vibe{
      position:absolute;
      right: -18px;
      top: -16px;
      width: 170px;
      opacity: .92;
      transform: rotate(6deg);
      filter: drop-shadow(0 18px 22px rgba(0,0,0,.35));
      pointer-events:none;
    }

    .seal-stack{
      display:grid;
      gap:10px;
      align-content:start;
    }

    .seal{
      display:flex; gap:12px;
      align-items:center;
      padding: 12px;
      border-radius: 16px;
      border: 1px solid rgba(255,255,255,.10);
      background: rgba(255,255,255,.04);
    }

    .seal b{ font-size: 14px; }
    .seal span{ display:block; font-size: 13px; color: rgba(255,255,255,.72); margin-top:2px; }

    .seal svg{ width:44px; height:44px; flex: 0 0 auto; filter: drop-shadow(0 10px 18px rgba(0,0,0,.28)); }

    /* Modal */
    .modal-backdrop{
      position:fixed; inset:0;
      display:grid; place-items:center;
      background: radial-gradient(900px 450px at 50% 30%, rgba(255,77,141,.18), rgba(0,0,0,.68));
      padding: 18px;
    }

    .modal{
      width: min(520px, 92vw);
      border-radius: 24px;
      border: 1px solid rgba(255,255,255,.14);
      background: linear-gradient(180deg, rgba(255,255,255,.10), rgba(255,255,255,.06));
      box-shadow: 0 40px 120px rgba(0,0,0,.65);
      backdrop-filter: blur(18px);
      padding: 18px;
      position:relative;
      overflow:hidden;
    }

    .modal h2{
      margin: 6px 0 6px;
      font-size: 22px;
      letter-spacing: -.01em;
    }

    .modal p{
      margin:0 0 14px;
      color: rgba(255,255,255,.74);
      font-size: 14px;
      line-height: 1.35;
    }

    .actions{
      position:relative;
      height: 120px;
      border-radius: 18px;
      border: 1px dashed rgba(255,255,255,.18);
      background: rgba(0,0,0,.18);
      overflow:hidden;
    }

    .actions .btn{
      position:absolute;
      min-width: 140px;
      height: 44px;
      display:inline-grid; place-items:center;
    }

    /* starting positions */
    #yesBtn{ left: 18px; top: 30px; transform-origin: left center; }
    #nopeBtn{ right: 18px; top: 30px; }

    .sparkle{
      position:absolute;
      inset:auto;
      width: 8px; height: 8px;
      border-radius: 999px;
      background: rgba(255,255,255,.9);
      opacity:.8;
      filter: blur(.2px);
      animation: twinkle 2.4s ease-in-out infinite;
    }
    @keyframes twinkle{ 0%,100%{ transform: scale(.65); opacity:.5;} 50%{ transform: scale(1.2); opacity:.95;} }

    .footer{
      display:flex; justify-content:space-between; align-items:center; gap:10px;
      margin-top: 10px;
      color: rgba(255,255,255,.55);
      font-size: 12px;
    }

    .pill{
      display:inline-flex; align-items:center; gap:8px;
      padding: 8px 10px;
      border-radius: 999px;
      background: rgba(255,255,255,.05);
      border: 1px solid rgba(255,255,255,.10);
    }

    /* Celebration overlay */
    .celebrate{
      position:fixed; inset:0;
      display:none;
      place-items:center;
      background: radial-gradient(900px 500px at 50% 30%, rgba(34,197,94,.18), rgba(0,0,0,.82));
      padding: 18px;
      z-index: 30;
    }
    .celebrate.show{ display:grid; }

    .celebrate .box{
      width:min(520px, 92vw);
      border-radius: 24px;
      border: 1px solid rgba(255,255,255,.14);
      background: linear-gradient(180deg, rgba(255,255,255,.10), rgba(255,255,255,.06));
      box-shadow: 0 40px 120px rgba(0,0,0,.65);
      backdrop-filter: blur(18px);
      padding: 18px;
      text-align:center;
      position:relative;
      overflow:hidden;
    }

    .celebrate h2{ margin:8px 0 8px; font-size: 26px; letter-spacing:-.02em; }
    .celebrate p{ margin:0 0 14px; color: rgba(255,255,255,.74); }

    .confetti{
      position:fixed; inset:0; pointer-events:none; z-index: 40;
      overflow:hidden;
    }

    .piece{
      position:absolute;
      top:-10px;
      width: 10px; height: 16px;
      border-radius: 4px;
      opacity:.9;
      transform: rotate(12deg);
      animation: fall linear forwards;
    }

    @keyframes fall{
      to{ transform: translateY(110vh) rotate(420deg); opacity: .95; }
    }

    /* Accessibility */
    .sr-only{ position:absolute; left:-10000px; top:auto; width:1px; height:1px; overflow:hidden; }

  </style>
</head>
<body>
  <div class="orb one"></div>
  <div class="orb two"></div>
  <div class="orb three"></div>

  <div class="stage">
    <main class="card" aria-label="Walentynkowa strona">
      <!-- "Stitch vibe" (oryginalny, nie-kopiujƒÖcy rysunek: niebieski kosmita z wielkimi uszami) -->
      <svg class="stitch-vibe" viewBox="0 0 220 220" aria-hidden="true">
        <defs>
          <linearGradient id="g1" x1="0" x2="1" y1="0" y2="1">
            <stop offset="0" stop-color="#38bdf8" stop-opacity=".95"/>
            <stop offset="1" stop-color="#8b5cf6" stop-opacity=".95"/>
          </linearGradient>
          <linearGradient id="g2" x1="0" x2="1" y1="1" y2="0">
            <stop offset="0" stop-color="#ff4d8d" stop-opacity=".95"/>
            <stop offset="1" stop-color="#38bdf8" stop-opacity=".75"/>
          </linearGradient>
        </defs>
        <!-- ears -->
        <path d="M40 70 C10 45, 12 25, 44 28 C70 30, 78 58, 72 78" fill="url(#g1)" opacity=".9"/>
        <path d="M165 75 C196 50, 208 30, 182 26 C154 22, 142 56, 148 82" fill="url(#g1)" opacity=".9"/>
        <!-- head -->
        <path d="M70 70 C72 46, 92 34, 112 34 C134 34, 152 48, 154 72 C156 98, 144 128, 112 140 C80 128, 68 98, 70 70" fill="url(#g1)"/>
        <!-- face -->
        <ellipse cx="95" cy="82" rx="10" ry="12" fill="rgba(0,0,0,.55)"/>
        <ellipse cx="128" cy="82" rx="10" ry="12" fill="rgba(0,0,0,.55)"/>
        <circle cx="92" cy="78" r="3" fill="rgba(255,255,255,.75)"/>
        <circle cx="125" cy="78" r="3" fill="rgba(255,255,255,.75)"/>
        <path d="M103 100 C110 110, 117 110, 124 100" stroke="rgba(0,0,0,.55)" stroke-width="6" stroke-linecap="round" fill="none"/>
        <path d="M104 118 C110 124, 116 124, 122 118" stroke="rgba(255,255,255,.25)" stroke-width="4" stroke-linecap="round" fill="none"/>
        <!-- little heart -->
        <path d="M180 140 C180 132, 190 130, 194 137 C198 130, 208 132, 208 140 C208 152, 194 160, 194 160 C194 160, 180 152, 180 140" fill="url(#g2)"/>
      </svg>

      <div class="topbar">
        <div class="badge">
          <span class="dot"></span>
          <span><b>Walentynkowy link</b> ‚Ä¢ mini-niespodzianka</span>
        </div>
        <button class="btn small ghost" id="openModalBtn" type="button">Otw√≥rz pytanie üíò</button>
      </div>

      <h1 class="title" id="headline">Hej Ty ‚ù§Ô∏è</h1>
      <p class="subtitle" id="subline">Mam dla Ciebie jedno pytanko‚Ä¶ ale spokojnie, jest w nim du≈ºo serca i trochƒô mem√≥w ü¶≠</p>

      <div class="grid">
        <section class="panel">
          <h3>Co tu siƒô dzieje?</h3>
          <p>
            Po wej≈õciu w link wyskakuje popup z pytaniem. <b>‚ÄûJes‚Äù</b> ro≈õnie (bo odwaga ro≈õnie), a <b>‚ÄûNope‚Äù</b> ucieka.
            Motyw: kosmiczny niebieski vibe + walentynkowe glow + lwy morskie z internet√≥w.
          </p>

          <div class="cta">
            <button class="btn primary" id="openModalBtn2" type="button">Zacznijmy üíñ</button>
            <button class="btn ghost" id="toggleBgBtn" type="button">Wiƒôcej mem√≥w ü¶≠</button>
          </div>
          <div class="hint">Tip: dzia≈Ça te≈º na telefonie ‚Äî ‚ÄûNope‚Äù ucieka przy dotkniƒôciu.</div>
        </section>

        <aside class="seal-stack">
          <div class="seal">
            <svg viewBox="0 0 64 64" aria-hidden="true">
              <path d="M10 40c0-12 9-22 22-22s22 10 22 22-9 14-22 14S10 52 10 40z" fill="rgba(255,255,255,.14)"/>
              <path d="M18 40c0-8 6-14 14-14s14 6 14 14-6 9-14 9-14-1-14-9z" fill="rgba(0,0,0,.18)"/>
              <circle cx="26" cy="39" r="3" fill="rgba(255,255,255,.75)"/>
              <circle cx="38" cy="39" r="3" fill="rgba(255,255,255,.75)"/>
              <path d="M28 45c2 2 6 2 8 0" stroke="rgba(255,255,255,.6)" stroke-width="3" stroke-linecap="round" fill="none"/>
            </svg>
            <div>
              <b>Lew morski #1</b>
              <span>‚ÄûPoproszƒô walentynkƒô, dziƒôkujƒô.‚Äù</span>
            </div>
          </div>
          <div class="seal">
            <svg viewBox="0 0 64 64" aria-hidden="true">
              <path d="M12 42c0-13 9-24 20-24s20 11 20 24-8 14-20 14S12 55 12 42z" fill="rgba(255,255,255,.12)"/>
              <path d="M22 41c0-7 5-12 10-12s10 5 10 12-5 8-10 8-10-1-10-8z" fill="rgba(0,0,0,.18)"/>
              <circle cx="28" cy="40" r="2.6" fill="rgba(255,255,255,.75)"/>
              <circle cx="36" cy="40" r="2.6" fill="rgba(255,255,255,.75)"/>
              <path d="M30 46c1 1 3 1 4 0" stroke="rgba(255,255,255,.6)" stroke-width="3" stroke-linecap="round" fill="none"/>
            </svg>
            <div>
              <b>Lew morski #2</b>
              <span>‚ÄûNope‚Äù nie przejdzie.‚Äù</span>
            </div>
          </div>
        </aside>
      </div>

      <div class="footer">
        <div class="pill">‚ú® nowoczesny vibe ‚Ä¢ üíé lekki plik ‚Ä¢ ü¶≠ mem-energy</div>
        <div class="pill">Zrobione z ‚ô• (i odrobinƒÖ chaosu)</div>
      </div>
    </main>
  </div>

  <!-- MODAL -->
  <div class="modal-backdrop" id="modalBackdrop" style="display:none" role="dialog" aria-modal="true" aria-labelledby="modalTitle">
    <div class="modal" id="modal">
      <!-- tiny sparkles -->
      <div class="sparkle" style="left:18px; top:16px; animation-delay:.2s"></div>
      <div class="sparkle" style="left:60px; top:28px; animation-delay:1.1s"></div>
      <div class="sparkle" style="right:22px; top:18px; animation-delay:.7s"></div>

      <h2 id="modalTitle">Czy zostaniesz mojƒÖ walentynkƒÖ? üíò</h2>
      <p id="modalDesc">Wybierz mƒÖdrze. ‚ÄûJes‚Äù ro≈õnie z ka≈ºdƒÖ sekundƒÖ‚Ä¶ a ‚ÄûNope‚Äù jest trochƒô p≈Çochliwy üôÉ</p>

      <div class="actions" id="actionBox" aria-describedby="modalDesc">
        <button class="btn primary" id="yesBtn" type="button">Jes üíñ</button>
        <button class="btn ghost" id="nopeBtn" type="button">Nope üòÖ</button>
      </div>

      <div class="footer" style="margin-top:12px;">
        <span class="pill">Tip: spr√≥buj z≈Çapaƒá ‚ÄûNope‚Äù üèÉ‚Äç‚ôÇÔ∏è</span>
        <button class="btn small ghost" id="closeModalBtn" type="button">Zamknij</button>
      </div>

      <span class="sr-only" id="ariaLive" aria-live="polite"></span>
    </div>
  </div>

  <!-- CELEBRATION -->
  <div class="celebrate" id="celebrate">
    <div class="box">
      <h2 id="yayTitle">Yaaay! üíö</h2>
      <p id="yayText">Oficjalnie: jeste≈õmy walentynkami. Lew morski zatwierdzi≈Ç, niebieski kosmita te≈º.</p>
      <div style="display:flex; justify-content:center; gap:10px; flex-wrap:wrap; margin-top:12px;">
        <button class="btn primary" id="againBtn" type="button">Jeszcze raz üòÑ</button>
        <button class="btn ghost" id="copyBtn" type="button">Kopiuj tekst do wys≈Çania üìã</button>
      </div>
      <p class="hint" id="copyHint" style="margin-top:12px;"></p>
    </div>
  </div>

  <div class="confetti" id="confetti"></div>

  <script>
    /***********************
     *  SZYBKA PERSONALIZACJA
     *  Zmie≈Ñ te warto≈õci pod siebie:
     ***********************/
    const CONFIG = {
      partnerName: "Kochanie", // np. "Ola" / "Misia" / "Skarbie"
      headline: "Hej Ty ‚ù§Ô∏è",
      subline: "Mam dla Ciebie jedno pytanko‚Ä¶ ale spokojnie, jest w nim du≈ºo serca i trochƒô mem√≥w ü¶≠",
      question: "Czy zostaniesz mojƒÖ walentynkƒÖ? üíò",
      yesLabel: "Jes üíñ", // specjalnie jak w Twoim opisie
      nopeLabel: "Nope üòÖ",
      yayTitle: "Yaaay! üíö",
      yayText: "Oficjalnie: jeste≈õmy walentynkami. Lew morski zatwierdzi≈Ç, niebieski kosmita te≈º.",
      copiedText: "Jeste≈õ mojƒÖ walentynkƒÖ! üíò\n\nPS. Lew morski m√≥wi: AUUU ü¶≠\nPS2. Niebieski kosmita te≈º siƒô cieszy ‚ú®",

      // zachowanie przycisku "Jes"
      yesGrowPerSecond: 0.03, // im wiƒôksze tym szybciej ro≈õnie
      yesMaxScale: 6.0,       // ro≈õnie ciƒÖgle, ale odcinamy, ≈ºeby nie rozwaliƒá wszystkiego

      // "Nope" ucieka w obrƒôbie pola z przyciskami
      nopePadding: 10,

      // konfetti
      confettiPieces: 130,
      confettiDurationMs: 1400,
    };

    // Elements
    const headlineEl = document.getElementById('headline');
    const sublineEl  = document.getElementById('subline');

    const modalBackdrop = document.getElementById('modalBackdrop');
    const modal = document.getElementById('modal');

    const openModalBtn  = document.getElementById('openModalBtn');
    const openModalBtn2 = document.getElementById('openModalBtn2');
    const closeModalBtn = document.getElementById('closeModalBtn');

    const actionBox = document.getElementById('actionBox');
    const yesBtn = document.getElementById('yesBtn');
    const nopeBtn = document.getElementById('nopeBtn');
    const ariaLive = document.getElementById('ariaLive');

    const celebrate = document.getElementById('celebrate');
    const yayTitle = document.getElementById('yayTitle');
    const yayText  = document.getElementById('yayText');
    const confetti = document.getElementById('confetti');

    const againBtn = document.getElementById('againBtn');
    const copyBtn = document.getElementById('copyBtn');
    const copyHint = document.getElementById('copyHint');

    const toggleBgBtn = document.getElementById('toggleBgBtn');

    // Personalize
    headlineEl.textContent = CONFIG.partnerName ? `${CONFIG.headline.replace('Hej Ty', `Hej ${CONFIG.partnerName}`)}` : CONFIG.headline;
    sublineEl.textContent = CONFIG.subline;

    // Modal text
    document.getElementById('modalTitle').textContent = CONFIG.question;
    yesBtn.textContent = CONFIG.yesLabel;
    nopeBtn.textContent = CONFIG.nopeLabel;

    // Celebration text
    yayTitle.textContent = CONFIG.yayTitle;
    yayText.textContent  = CONFIG.yayText;

    // Modal open/close
    function openModal(){
      modalBackdrop.style.display = 'grid';
      // reset positions & scale
      resetButtons();
      startGrowing();
      // focus for accessibility
      setTimeout(()=> yesBtn.focus(), 40);
    }

    function closeModal(){
      modalBackdrop.style.display = 'none';
      stopGrowing();
    }

    openModalBtn.addEventListener('click', openModal);
    openModalBtn2.addEventListener('click', openModal);
    closeModalBtn.addEventListener('click', closeModal);

    modalBackdrop.addEventListener('click', (e)=>{
      if(e.target === modalBackdrop) closeModal();
    });

    document.addEventListener('keydown', (e)=>{
      if(e.key === 'Escape' && modalBackdrop.style.display !== 'none') closeModal();
    });

    // YES growing
    let growTimer = null;
    let yesScale = 1;

    function startGrowing(){
      stopGrowing();
      yesScale = 1;
      growTimer = setInterval(()=>{
        yesScale = Math.min(CONFIG.yesMaxScale, yesScale + CONFIG.yesGrowPerSecond);
        yesBtn.style.transform = `scale(${yesScale})`;
        // subtle encouragement
        if(Math.abs(yesScale - 2.2) < 0.02){
          ariaLive.textContent = '"Jes" robi siƒô coraz bardziej kuszƒÖce.';
        }
      }, 1000);
    }

    function stopGrowing(){
      if(growTimer) clearInterval(growTimer);
      growTimer = null;
    }

    // NOPE escape
    function randomInt(min, max){
      return Math.floor(Math.random() * (max - min + 1)) + min;
    }

    function getBounds(){
      const box = actionBox.getBoundingClientRect();
      const btn = nopeBtn.getBoundingClientRect();
      const pad = CONFIG.nopePadding;

      const maxLeft = box.width - btn.width - pad;
      const maxTop  = box.height - btn.height - pad;

      return {
        minLeft: pad,
        minTop: pad,
        maxLeft: Math.max(pad, maxLeft),
        maxTop: Math.max(pad, maxTop),
      };
    }

    function moveNope(){
      const b = getBounds();

      // wylosuj nowe miejsce, ale unikaj bezpo≈õredniego nak≈Çadania siƒô na YES
      const yesRect = yesBtn.getBoundingClientRect();
      const boxRect = actionBox.getBoundingClientRect();
      const yesX = yesRect.left - boxRect.left;
      const yesY = yesRect.top  - boxRect.top;

      let left, top, tries = 0;
      do{
        left = randomInt(b.minLeft, b.maxLeft);
        top  = randomInt(b.minTop,  b.maxTop);
        tries++;
      }while(tries < 20 && Math.hypot(left - yesX, top - yesY) < 120);

      nopeBtn.style.left = left + 'px';
      nopeBtn.style.top  = top  + 'px';
      nopeBtn.style.right = 'auto';
      nopeBtn.style.transition = 'transform .12s ease, left .18s ease, top .18s ease, background .18s ease';
      nopeBtn.style.transform = 'rotate(' + randomInt(-10,10) + 'deg)';
    }

    // Hover / touch / pointer
    nopeBtn.addEventListener('pointerenter', moveNope);
    nopeBtn.addEventListener('pointerdown', (e)=>{ e.preventDefault(); moveNope(); ariaLive.textContent = '"Nope" ucieka!'; });

    // if user somehow clicks nope
    nopeBtn.addEventListener('click', (e)=>{
      e.preventDefault();
      moveNope();
      ariaLive.textContent = 'Nie tak ≈Çatwo üòÑ';
    });

    // YES click -> celebration
    yesBtn.addEventListener('click', ()=>{
      closeModal();
      showCelebration();
    });

    function resetButtons(){
      yesBtn.style.transform = 'scale(1)';
      yesScale = 1;

      // restore default positions
      yesBtn.style.left = '18px';
      yesBtn.style.top  = '30px';

      nopeBtn.style.left = 'auto';
      nopeBtn.style.top  = '30px';
      nopeBtn.style.right = '18px';
      nopeBtn.style.transform = 'none';
    }

    // Celebration + confetti
    function showCelebration(){
      celebrate.classList.add('show');
      spawnConfetti();
      copyHint.textContent = '';
    }

    function hideCelebration(){
      celebrate.classList.remove('show');
      confetti.innerHTML = '';
    }

    againBtn.addEventListener('click', ()=>{
      hideCelebration();
      openModal();
    });

    copyBtn.addEventListener('click', async ()=>{
      try{
        await navigator.clipboard.writeText(CONFIG.copiedText);
        copyHint.textContent = 'Skopiowane! Mo≈ºesz wkleiƒá do wiadomo≈õci üíå';
      }catch{
        copyHint.textContent = 'Nie uda≈Ço siƒô skopiowaƒá (przeglƒÖdarka blokuje). Skopiuj rƒôcznie: ' + CONFIG.copiedText;
      }
    });

    celebrate.addEventListener('click', (e)=>{
      if(e.target === celebrate) hideCelebration();
    });

    function spawnConfetti(){
      confetti.innerHTML = '';
      const w = window.innerWidth;
      const pieceCount = CONFIG.confettiPieces;

      for(let i=0;i<pieceCount;i++){
        const p = document.createElement('div');
        p.className = 'piece';

        // Kolory: bez bibliotek, lekko "stitch + walentynki" (nie ustawiamy stylu globalnie)
        const palette = ['rgba(56,189,248,.95)','rgba(139,92,246,.95)','rgba(255,77,141,.95)','rgba(34,197,94,.95)','rgba(255,255,255,.9)'];
        p.style.background = palette[Math.floor(Math.random()*palette.length)];

        p.style.left = Math.floor(Math.random()*w) + 'px';
        p.style.animationDuration = (900 + Math.random()*CONFIG.confettiDurationMs) + 'ms';
        p.style.animationDelay = (Math.random()*140) + 'ms';
        p.style.transform = `rotate(${Math.random()*180}deg)`;
        p.style.width = (8 + Math.random()*10) + 'px';
        p.style.height = (10 + Math.random()*14) + 'px';
        confetti.appendChild(p);
      }

      setTimeout(()=>{ confetti.innerHTML = ''; }, CONFIG.confettiDurationMs + 1200);
    }

    // Extra: toggle "more memes" mode (adds floating seals)
    let memeMode = false;
    const memeSeals = [];

    function createFloatingSeal(){
      const el = document.createElement('div');
      el.style.position = 'fixed';
      el.style.left = (Math.random()*100) + 'vw';
      el.style.top  = (Math.random()*100) + 'vh';
      el.style.width = '56px';
      el.style.height= '56px';
      el.style.opacity = '.55';
      el.style.pointerEvents = 'none';
      el.style.filter = 'drop-shadow(0 14px 22px rgba(0,0,0,.45))';
      el.style.transform = `rotate(${Math.floor(Math.random()*30-15)}deg)`;

      el.innerHTML = `
        <svg viewBox="0 0 64 64" aria-hidden="true">
          <path d="M10 40c0-12 9-22 22-22s22 10 22 22-9 14-22 14S10 52 10 40z" fill="rgba(255,255,255,.14)"/>
          <path d="M18 40c0-8 6-14 14-14s14 6 14 14-6 9-14 9-14-1-14-9z" fill="rgba(0,0,0,.20)"/>
          <circle cx="26" cy="39" r="3" fill="rgba(255,255,255,.78)"/>
          <circle cx="38" cy="39" r="3" fill="rgba(255,255,255,.78)"/>
          <path d="M28 45c2 2 6 2 8 0" stroke="rgba(255,255,255,.62)" stroke-width="3" stroke-linecap="round" fill="none"/>
          <path d="M18 30c-2-3 2-7 6-4" stroke="rgba(255,255,255,.28)" stroke-width="3" stroke-linecap="round" fill="none"/>
          <path d="M46 30c2-3-2-7-6-4" stroke="rgba(255,255,255,.28)" stroke-width="3" stroke-linecap="round" fill="none"/>
        </svg>
      `;

      document.body.appendChild(el);

      const dx = (Math.random() > .5 ? 1 : -1) * (10 + Math.random()*18);
      const dy = (Math.random() > .5 ? 1 : -1) * (10 + Math.random()*18);
      const dur = 6000 + Math.random()*6000;
      el.animate([
        { transform: el.style.transform + ' translate(0,0)' },
        { transform: el.style.transform + ` translate(${dx}vw, ${dy}vh)` },
        { transform: el.style.transform + ' translate(0,0)' }
      ], { duration: dur, iterations: Infinity, easing: 'ease-in-out' });

      return el;
    }

    toggleBgBtn.addEventListener('click', ()=>{
      memeMode = !memeMode;
      toggleBgBtn.textContent = memeMode ? 'Mniej mem√≥w ‚ú®' : 'Wiƒôcej mem√≥w ü¶≠';

      if(memeMode){
        for(let i=0;i<7;i++) memeSeals.push(createFloatingSeal());
      }else{
        while(memeSeals.length){
          const el = memeSeals.pop();
          el?.remove();
        }
      }
    });

    // Open modal on load (opcjonalne) ‚Äî odkomentuj je≈õli ma wyskakiwaƒá od razu
    // window.addEventListener('load', openModal);

  </script>
</body>
</html>
